<template>
  <div if.bind="torrent === undefined">
    <compose view="./spinner.html"></compose>
  </div>
  <div if.bind="torrent !== undefined">
    <h2 class="has-text-centered">Downloading</h2>
    <div if.bind="fileURI === undefined">
      <div if.bind="progress < 1 && progress > 0">
        <progress class="progress is-large" value.bind="progress" max="1"></progress>
      </div>
      <div if.bind="progress === 1 || progress === 0">
        <progress class="progress is-large" max="1"></progress>
      </div>
      <div class="level">
        <div class="level-item has-text-centered">
          <div>
            <h4 class="heading">Peers</h4>
            <p class="title">${torrent.numPeers}</p>
          </div>
        </div>
        <div class="level-item has-text-centered">
          <div>
            <h4 class="heading">Download</h4>
            <p class="title">${prettyBytes(torrent.downloadSpeed)}/s</p>
          </div>
        </div>
        <div class="level-item has-text-centered">
          <div>
            <h4 class="heading">Size</h4>
            <p class="title">
              ${prettyBytes(torrent.downloaded)}
              /
              ${prettyBytes(torrent.length)}
            </p>
          </div>
        </div>
      </div>
    </div>
    <div if.bind="fileURI !== undefined">
      <div class="has-text-centered">
        Your file is available:<br/>
        <a class="button mt-1" href.bind="fileURI" download.bind="fileName">Save</a>
      </div>
    </div>
  </div>
</template>
